<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Create a Frame - ShareLive</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header class="app-header">
    <a href="index.html" class="app-name-link">
      <h1 class="app-name">ShareLive</h1>
    </a>
  </header>
  
  <div class="form-container">
    <h1 class="form-title">Create a Farcaster Frame</h1>
    <form id="frameForm" class="form">
      <label for="title">Video Title (optional)</label>
      <input type="text" id="title" name="title" placeholder="Enter title (optional)">

      <label for="playbackID">Video Playback ID</label>
      <input type="text" id="playbackID" name="playbackID" required placeholder="Enter the video playback ID">

      <label for="playbackURL">Live Stream Playback URL (optional)</label>
      <input type="url" id="playbackURL" name="playbackURL" placeholder="Enter livestream URL (optional)">

      <button type="submit" class="btn">Create Frame</button>
    </form>
  </div>

  <script>
    document.getElementById('frameForm').addEventListener('submit', function(event) {
      event.preventDefault();
      const title = document.getElementById('title').value || 'NEW VIDEO';
      const playbackID = document.getElementById('playbackID').value;
      const playbackURL = document.getElementById('playbackURL').value || `https://sharelive-frame.vercel.app/frame.html?${playbackID}`; // replace with actual video template URL

      // Construct the query parameters
      const queryParams = new URLSearchParams({ title, playbackID, playbackURL }).toString();
      window.location.href = `frame_created.html?${queryParams}`;
    });
  </script>
  
</body>
</html>
