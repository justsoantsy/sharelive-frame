<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Frame Created - ShareLive</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header class="app-header">
    <a href="index.html" class="app-name-link">
      <h1 class="app-name">ShareLive</h1>
    </a>
  </header>
  
  <div class="container">
    <h1>Your Frame is Ready!</h1>
    <div class="url-container">
      <input type="text" id="frameUrl" readonly>
      <button class="btn" onclick="copyToClipboard()">Copy URL</button>
    </div>
  </div>

  <script>
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    function updateFrameUrl() {
      const frameUrl = `https://sharelive-frame.vercel.app/frame.html?title=${getQueryParam('title')}&playbackID=${getQueryParam('playbackID')}&playbackURL=${getQueryParam('playbackURL')}`;
      document.getElementById('frameUrl').value = frameUrl;
    }

    function copyToClipboard() {
      const copyText = document.getElementById('frameUrl');
      copyText.select();
      document.execCommand('copy');
      alert('URL copied to clipboard!');
    }

    document.addEventListener('DOMContentLoaded', updateFrameUrl);
  </script>
</body>
</html>
