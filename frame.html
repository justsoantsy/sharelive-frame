<script>
  // Function to retrieve URL parameters
  function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
  }

  // Function to update the meta tags and video source
  function updateFrame() {
    const title = getQueryParam('title');
    const description = getQueryParam('description');
    const videoURL = getQueryParam('playbackURL');
    const imageURL = getQueryParam('image') || 'default-image-url.jpg'; // Replace with your default image URL
    
    // Update meta tags
    if (title && description) {
      document.querySelector('meta[property="og:title"]').content = title;
      document.querySelector('meta[property="og:description"]').content = description;
    }
    
    if (videoURL) {
      // Update video source and poster
      const videoElement = document.getElementById('my-video');
      const sourceElement = videoElement.querySelector('source');
      sourceElement.src = videoURL;
      sourceElement.type = 'application/x-mpegURL';
      videoElement.load(); // Load the new video source
      
      // Update Open Graph video meta if necessary
      document.querySelector('meta[property="og:video"]').content = videoURL;
      document.querySelector('meta[property="og:video:type"]').content = 'application/x-mpegURL';
    }
    
    if (imageURL) {
      // Update meta tags and video poster image
      document.querySelector('meta[property="og:image"]').content = imageURL;
      document.getElementById('my-video').poster = imageURL;
    }
  }

  document.addEventListener('DOMContentLoaded', updateFrame);
</script>
